name: "Testing dynamically generating JSON"
on:
  push:
    branches:
      - master
env:
  ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
  REFRESH_TOKEN: ${{ secrets.REFRESH_TOKEN }}

jobs:
  create_config:
    runs-on: "ubuntu-latest"
    steps:
      - uses: actions/checkout@v2
      - name: Create Config file ðŸ”¥
        run: |
          echo "Creating config.json file from config.template.json ..." && \
          sed \
          -e "s|__ACCESS_TOKEN__|$ACCESS_TOKEN|" \
          -e "s|__REFRESH_TOKEN__|$REFRESH_TOKEN|" \
          config.template.json > config.json && \
          echo "config.json file created"
      - name: View config file contents
        run: cat config.json
